<!DOCTYPE html> 
<html lang="ja"> 
  <head> 
    <meta charset="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>数列の総和の公式</title> 
    <style> 
      .answer { display: none; } .toggle-button { margin-top: 10px; display: inline-block; cursor: pointer; color: blue; text-decoration: underline; } 
    </style> 
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> 
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> 
    <script> function toggleAnswer(id) { var element = document.getElementById(id); if (element.style.display === "none") { element.style.display = "block"; } else { element.style.display = "none"; } } </script> 
  </head> 
  <body> 
    <h1>数列の公式</h1> 
    <p>数列の総和を計算するときに使う公式にはいくつかの基本的なものがあります。ここでは代表的な数列の総和の公式について紹介し、具体例を示します。</p>
        <h2>総和記号を使った公式</h2>
    
    <h3>1. 等差数列の総和</h3>
    <p>等差数列の総和は次の公式で求められます：</p>
    <p>
        \[
        \sum_{i=1}^{n} a_i = \frac{n}{2} \left( 2a + (n-1)d \right)
        \]
    </p>
    <p>ここで、\(a\) は初項、\(d\) は公差、\(n\) は項数です。</p>
    
    <h4>具体例</h4>
    <p>初項 \(a = 3\)、公差 \(d = 2\)、項数 \(n = 5\) の等差数列の総和を求めてみましょう：</p>
    <p>
        \[
        \sum_{i=1}^{5} (3 + (i-1) \cdot 2) = \frac{5}{2} \left( 2 \cdot 3 + (5-1) \cdot 2 \right) = \frac{5}{2} \left( 6 + 8 \right) = \frac{5}{2} \cdot 14 = 35
        \]
    </p>

    <h3>2. 等比数列の総和</h3>
    <p>等比数列の総和は次の公式で求められます：</p>
    <p>
        \[
        \sum_{i=0}^{n-1} a r^i = a \frac{1-r^n}{1-r}
        \]
    </p>
    <p>ここで、\(a\) は初項、\(r\) は公比、\(n\) は項数です。</p>
    
    <h4>具体例</h4>
    <p>初項 \(a = 2\)、公比 \(r = 3\)、項数 \(n = 4\) の等比数列の総和を求めてみましょう：</p>
    <p>
        \[
        \sum_{i=0}^{3} 2 \cdot 3^i = 2 \cdot \frac{1-3^4}{1-3} = 2 \cdot \frac{1-81}{-2} = 2 \cdot \frac{-80}{-2} = 2 \cdot 40 = 80
        \]
    </p>
    
    <h3>3. 自然数の総和</h3>
    <p>自然数の総和は次の公式で求められます：</p>
    <p>
        \[
        \sum_{i=1}^{n} i = \frac{n(n+1)}{2}
        \]
    </p>
    
    <h4>具体例</h4>
    <p>\(n = 10\) の場合の自然数の総和を求めてみましょう：</p>
    <p>
        \[
        \sum_{i=1}^{10} i = \frac{10 \cdot (10+1)}{2} = \frac{10 \cdot 11}{2} = \frac{110}{2} = 55
        \]
    </p>
    
    <h3>4. 自然数の二乗の総和</h3>
    <p>自然数の二乗の総和は次の公式で求められます：</p>
    <p>
        \[
        \sum_{i=1}^{n} i^2 = \frac{n(n+1)(2n+1)}{6}
        \]
    </p>
    
    <h4>具体例</h4>
    <p>\(n = 5\) の場合の自然数の二乗の総和を求めてみましょう：</p>
    <p>
        \[
        \sum_{i=1}^{5} i^2 = \frac{5 \cdot (5+1) \cdot (2\cdot5+1)}{6} = \frac{5 \cdot 6 \cdot 11}{6} = 5 \cdot 11 = 55
        \]
    </p>
    
    <h2>練習問題</h2>
    <p>次の総和を求めてください：</p>
    <ol>
        <li>等差数列：初項 \(a = 4\)、公差 \(d = 3\)、項数 \(n = 6\)</li>
        <li>等比数列：初項 \(a = 1\)、公比 \(r = 2\)、項数 \(n = 5\)</li>
        <li>自然数の総和：\(n = 15\)</li>
        <li>自然数の二乗の総和：\(n = 4\)</li>
    </ol>
    
    <div class="toggle-button" onclick="toggleAnswer('answer6')">解答を表示/非表示</div>
    <div id="answer6" class="answer">
        <ol>
            <li>等差数列：初項 \(a = 4\)、公差 \(d = 3\)、項数 \(n = 6\) の総和は 
                \[
                \sum_{i=1}^{6} (4 + (i-1) \cdot 3) = \frac{6}{2} \left(2 \cdot 4 + (6-1) \cdot 3\right) = 3 \left(8 + 15\right) = 3 \cdot 23 = 69
                \]
            </li>
            <li>等比数列：初項 \(a = 1\)、公比 \(r = 2\)、項数 \(n = 5\) の総和は 
                \[
                \sum_{i=0}^{4} 1 \cdot 2^i = 1 \cdot \frac{1-2^5}{1-2} = 1 \cdot \frac{1-32}{-1} = 1 \cdot \frac{-31}{-1} = 31
                \]
            </li>
            <li>自然数の総和：\(n = 15\) の場合
                \[
                \sum_{i=1}^{15} i = \frac{15 \cdot (15+1)}{2} = \frac{15 \cdot 16}{2} = 120
                \]
            </li>
            <li>自然数の二乗の総和：\(n = 4\) の場合
                \[
                \sum_{i=1}^{4} i^2 = \frac{4 \cdot (4+1) \cdot (2\cdot4+1)}{6} = \frac{4 \cdot 5 \cdot 9}{6} = 30
                \]
            </li>
        </ol>
    </div>
</body> 
</html>
